import{u as le,_ as ae,b as te,c as ne}from"./Pagination.DwvKIvuv.js";import{z as W,a as oe,_ as ie}from"./index.BSdZw3Rm.js";import{_ as se,E as ue,G as re,H as k,m as R,J as x,L as de,M as G,O as ce,g as u,P as ge,Q as $,o as v,c as f,a as _,F as L,a0 as q,t as E,Z as me,V as z,Y as P,b as i,W as J,a2 as j,n as ve,r as fe,w as y,h as s,a3 as be,a4 as he,d as pe}from"./entry.BeieR4oU.js";import{_ as ye}from"./Card.CxaUstSK.js";import{c as _e}from"./csvToJson.BcU0GOzl.js";const m=ue(k.ui.strategy,k.ui.select,re),Ie=R({components:{UIcon:x},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>m.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>m.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(m.size).includes(e)}},color:{type:String,default:()=>m.default.color,validator(e){return[...k.ui.colors,...Object.keys(m.color)].includes(e)}},variant:{type:String,default:()=>m.default.variant,validator(e){return[...Object.keys(m.variant),...Object.values(m.color).flatMap(c=>Object.keys(c))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:c,slots:A}){const{ui:a,attrs:o}=de("select",G(e,"ui"),m,G(e,"class")),{size:p,rounded:I}=ce({ui:a,props:e}),{emitFormChange:n,inputId:b,color:l,size:g,name:h}=le(e,m),r=u(()=>p.value||g.value),C=t=>{c("update:modelValue",t.target.value)},T=t=>{n(),c("change",t)},B=t=>j(t,e.valueAttribute,j(t,e.optionAttribute)),O=t=>j(t,e.optionAttribute,j(t,e.valueAttribute)),S=t=>["string","number","boolean"].includes(typeof t)?{[e.valueAttribute]:t,[e.optionAttribute]:t}:{...t,[e.valueAttribute]:B(t),[e.optionAttribute]:O(t)},V=u(()=>e.options.map(t=>S(t))),d=u(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...V.value]:V.value),H=u(()=>{const t=S(e.modelValue),w=d.value.find(N=>N[e.valueAttribute]===t[e.valueAttribute]);return w?w[e.valueAttribute]:""}),D=u(()=>{var w,N;const t=((N=(w=a.value.color)==null?void 0:w[l.value])==null?void 0:N[e.variant])||a.value.variant[e.variant];return ge($(a.value.base,a.value.form,I.value,a.value.size[r.value],e.padded?a.value.padding[r.value]:"p-0",t==null?void 0:t.replaceAll("{color}",l.value),(U.value||A.leading)&&a.value.leading.padding[r.value],(M.value||A.trailing)&&a.value.trailing.padding[r.value]),e.placeholder&&!e.modelValue&&a.value.placeholder,e.selectClass)}),U=u(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),M=u(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),Q=u(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),Y=u(()=>e.loading&&!U.value?e.loadingIcon:e.trailingIcon||e.icon),Z=u(()=>$(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[r.value])),K=u(()=>$(a.value.icon.base,l.value&&k.ui.colors.includes(l.value)&&a.value.icon.color.replaceAll("{color}",l.value),a.value.icon.size[r.value],e.loading&&a.value.icon.loading)),X=u(()=>$(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[r.value])),ee=u(()=>$(a.value.icon.base,l.value&&k.ui.colors.includes(l.value)&&a.value.icon.color.replaceAll("{color}",l.value),a.value.icon.size[r.value],e.loading&&!U.value&&a.value.icon.loading));return{ui:a,attrs:o,name:h,inputId:b,normalizedOptionsWithPlaceholder:d,normalizedValue:H,isLeading:U,isTrailing:M,selectClass:D,leadingIconName:Q,leadingIconClass:K,leadingWrapperIconClass:Z,trailingIconName:Y,trailingIconClass:ee,trailingWrapperIconClass:X,onInput:C,onChange:T}}}),Ae=["id","name","value","required","disabled"],Ce=["value","label"],Ve=["value","selected","disabled","textContent"],we=["value","selected","disabled","textContent"];function $e(e,c,A,a,o,p){const I=x;return v(),f("div",{class:z(e.ui.wrapper)},[_("select",me({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:c[0]||(c[0]=(...n)=>e.onInput&&e.onInput(...n)),onChange:c[1]||(c[1]=(...n)=>e.onChange&&e.onChange(...n))}),[(v(!0),f(L,null,q(e.normalizedOptionsWithPlaceholder,(n,b)=>(v(),f(L,null,[n.children?(v(),f("optgroup",{key:`${n[e.valueAttribute]}-optgroup-${b}`,value:n[e.valueAttribute],label:n[e.optionAttribute]},[(v(!0),f(L,null,q(n.children,(l,g)=>(v(),f("option",{key:`${l[e.valueAttribute]}-${b}-${g}`,value:l[e.valueAttribute],selected:l[e.valueAttribute]===e.normalizedValue,disabled:l.disabled,textContent:E(l[e.optionAttribute])},null,8,Ve))),128))],8,Ce)):(v(),f("option",{key:`${n[e.valueAttribute]}-${b}`,value:n[e.valueAttribute],selected:n[e.valueAttribute]===e.normalizedValue,disabled:n.disabled,textContent:E(n[e.optionAttribute])},null,8,we))],64))),256))],16,Ae),e.isLeading&&e.leadingIconName||e.$slots.leading?(v(),f("span",{key:0,class:z(e.leadingWrapperIconClass)},[P(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[i(I,{name:e.leadingIconName,class:z(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):J("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(v(),f("span",{key:1,class:z(e.trailingWrapperIconClass)},[P(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[i(I,{name:e.trailingIconName,class:z(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):J("",!0)],2)}const ze=se(Ie,[["render",$e],["__scopeId","data-v-57aec611"]]),ke={class:"flex h-full flex-col gap-3 w-full overflow-auto px-2 py-1"},Se={class:"flex flex-col gap-2"},Ue={class:"flex flex-col gap-2"},Ne=_("h1",{class:"font-medium"},"Hoặc",-1),je={class:"flex justify-between items-end"},Te=["model-value"],Be={class:"w-full flex-1 flex flex-col h-full bg-white rounded-md shadow-sm border overflow-hidden"},Oe={class:"flex justify-end px-3 py-3.5 border-t border-gray-200 dark:border-gray-700"},F=20,qe=R({__name:"themhocsinh",setup(e){const c=["Lớp 1","Lớp 2","Lớp 3"],A=[{key:"Mã học sinh",label:"Mã học sinh",class:"w-[120px]"},{key:"Tên học sinh",label:"Tên học sinh",sortable:!0,class:"min-w-[100px]"},{key:"Email",label:"Email",sortable:!0,class:"min-w-[60px]"},{key:"Lớp",label:"Lớp",sortable:!0,class:"w-[120px]"}],a=W.object({code:W.string().min(10,"Must be at least 10 characters")}),o=ve({code:void 0,class:void 0,types:void 0,file:void 0,excercies:[]}),p=fe(1),I=b=>{const l=new FileReader,g=b.target.files[0];l.onload=h=>{const r=h.target.result,C=_e(r);o.excercies=[...C]},l.readAsText(g),o.file=g},n=u(()=>{var l;return(l=o.excercies)==null?void 0:l.slice((p.value-1)*F,p.value*F)});return(b,l)=>{var V;const g=ne,h=oe,r=ze,C=ie,T=ye,B=he,O=ae,S=te;return v(),f("div",ke,[i(T,null,{default:y(()=>[i(C,{schema:s(a),state:s(o),class:"grid grid-cols-2 lg:w-3/5 gap-3"},{default:y(()=>[_("div",Se,[i(h,{label:"Mã học sinh",name:"class","eager-validation":""},{default:y(()=>[i(g,{modelValue:s(o).code,"onUpdate:modelValue":l[0]||(l[0]=d=>s(o).code=d),placeholder:"Nhập mã học sinh"},null,8,["modelValue"])]),_:1}),i(h,{label:"Tên học sinh",name:"code","eager-validation":""},{default:y(()=>[i(g,{modelValue:s(o).code,"onUpdate:modelValue":l[1]||(l[1]=d=>s(o).code=d),placeholder:"Nhập tên học sinh"},null,8,["modelValue"])]),_:1})]),_("div",Ue,[i(h,{label:"Email học sinh",name:"file","eager-validation":""},{default:y(()=>[i(g,{modelValue:s(o).code,"onUpdate:modelValue":l[2]||(l[2]=d=>s(o).code=d),placeholder:"Nhập email học sinh"},null,8,["modelValue"])]),_:1}),i(h,{label:"Lớp",name:"class","eager-validation":""},{default:y(()=>[i(r,{modelValue:s(o).class,"onUpdate:modelValue":l[3]||(l[3]=d=>s(o).class=d),placeholder:"Lựa chọn lớp",options:c},null,8,["modelValue"])]),_:1})])]),_:1},8,["schema","state"])]),_:1}),Ne,_("div",je,[i(h,{label:"Tải lên file csv",name:"file",class:"w-fit","eager-validation":""},{default:y(()=>[_("input",{"model-value":s(o).file,onChange:I,type:"file",accept:"*",size:"sm",class:"block w-full border rounded-md border-gray-300 text-sm text-gray-4000 file:h-full h-8 file:rounded-s-md file:border-0 file:text-sm file:font-semibold file:bg-[#22c55e] file:text-white hover:file:bg-[#16a34a]"},null,40,Te)]),_:1}),i(B,{class:"h-fit"},{default:y(()=>[pe("Thêm tất cả học sinh")]),_:1})]),_("div",Be,[i(O,{"sort-asc-icon":"i-heroicons-arrow-up-20-solid","sort-desc-icon":"i-heroicons-arrow-down-20-solid",class:"relative","sort-button":{icon:"i-heroicons-sparkles-20-solid",color:"primary",variant:"outline",size:"2xs",square:!1},columns:A,rows:s(n)},null,8,["rows"]),_("div",Oe,[i(S,{modelValue:s(p),"onUpdate:modelValue":l[4]||(l[4]=d=>be(p)?p.value=d:null),"page-count":F,total:(V=s(o).excercies)==null?void 0:V.length},null,8,["modelValue","total"])])])])}}});export{qe as default};
