import{_ as T,b as U,c as C}from"./Pagination.BqgBpJ6q.js";import{z as _,a as j,_ as B}from"./index.DBWWb_eg.js";import{m as N,a8 as S,n as G,r as P,g as $,c as q,b as s,w as c,a as l,h as t,a3 as z,o as D,d as F,a4 as H}from"./entry.BcyNGMx5.js";import{_ as O}from"./Card.BsrPPBTo.js";const E={class:"flex h-full flex-col gap-3 w-full overflow-auto px-2 py-1"},I={class:"grid grid-cols-2 lg:w-3/5 gap-3"},K={class:"flex flex-col gap-2"},M={class:"flex justify-end"},R={class:"w-full flex-1 flex flex-col h-full bg-white rounded-md shadow-sm border overflow-hidden"},A={class:"flex justify-end px-3 py-3.5 border-t border-gray-200 dark:border-gray-700"},d=20,Y=N({__name:"kiemtrade",setup(J){const p=[{key:"STT",label:"STT",class:"w-[60px]"},{key:"Câu Hỏi",label:"Câu Hỏi",sortable:!0,class:"min-w-[100px]"},{key:"Dạng",label:"Dạng",sortable:!0,class:"min-w-[60px]"},{key:"Đáp Án",label:"Đáp Án",sortable:!0,class:"w-[100px]"},{key:"Giải pháp",label:"Giải pháp",class:"w-[200px]"},{key:"Đường dẫn",label:"Đường dẫn"}],m=S(),o=G({code:void 0,loading:!1,excercies:[]}),a=P(1),f=$(()=>{var e;return(e=o.excercies)==null?void 0:e.slice((a.value-1)*d,a.value*d)}),h=_.object({code:_.string().min(3,"Phải nhiều hơn 3 ký tự")}),x=n=>{const e=[];return n.code||e.push({path:"code",message:"Vui lòng nhập mã đề"}),e};async function g(n){o.loading=!0;const e={code:n.data.code};$fetch("/api/exam/find",{method:"POST",body:e}).then(i=>{o.excercies=Object.values(i[0].excercies)}).catch(()=>{m.add({title:"Không tìm thấy",timeout:3e3})}).finally(()=>{o.loading=!1})}return(n,e)=>{var u;const i=C,b=j,w=H,v=B,y=O,k=T,V=U;return D(),q("div",E,[s(y,null,{default:c(()=>[s(v,{schema:t(h),state:t(o),validate:x,onSubmit:g},{default:c(()=>[l("div",I,[l("div",K,[s(b,{label:"Mã đề",name:"code","eager-validation":"",required:""},{default:c(()=>[s(i,{modelValue:t(o).code,"onUpdate:modelValue":e[0]||(e[0]=r=>t(o).code=r),placeholder:"Nhập mã đề"},null,8,["modelValue"])]),_:1})])]),l("div",M,[s(w,{type:"submit",class:"h-fit w-fit px-2",loading:t(o).loading},{default:c(()=>[F("Tìm kiếm bộ câu hỏi")]),_:1},8,["loading"])])]),_:1},8,["schema","state"])]),_:1}),l("div",R,[s(k,{"sort-asc-icon":"i-heroicons-arrow-up-20-solid","sort-desc-icon":"i-heroicons-arrow-down-20-solid",class:"relative","sort-button":{icon:"i-heroicons-sparkles-20-solid",color:"primary",variant:"outline",size:"2xs",square:!1},columns:p,rows:t(f)},null,8,["rows"]),l("div",A,[s(V,{modelValue:t(a),"onUpdate:modelValue":e[1]||(e[1]=r=>z(a)?a.value=r:null),"page-count":d,total:(u=t(o).excercies)==null?void 0:u.length},null,8,["modelValue","total"])])])])}}});export{Y as default};
